let lastSentTime = sessionStorage.getItem('lastSentTime') ? parseInt(sessionStorage.getItem('lastSentTime')) : 0;const delay = 5 * 60 * 1000;function formatRemainingTime(remainingTimeInSeconds) { const seconds = Math.round(remainingTimeInSeconds); const minutes = Math.floor(seconds / 60); const remainingSeconds = seconds % 60; return `${minutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`;}function showCustomAlert(title, message, type, time) { let backdrop = document.createElement("div"); backdrop.classList.add("backdrop"); let alertContainer = document.createElement("div"); alertContainer.classList.add("alert-container", "animate-popup"); let alertContent = document.createElement("div"); alertContent.classList.add("alert-content"); let alertTitle = document.createElement("h2"); alertTitle.textContent = title; let alertMessage = document.createElement("p"); alertMessage.textContent = message; let alertTime = document.createElement("p"); alertTime.textContent = time ? `Time: ${time}` : ""; alertTime.classList.add("time-txt"); let okButton = document.createElement("button"); okButton.textContent = "OK"; okButton.addEventListener("click", () => { document.body.removeChild(backdrop); document.body.removeChild(alertContainer); }); function closeAlert() { document.body.removeChild(backdrop); document.body.removeChild(alertContainer); document.removeEventListener("keydown", handleEscapeKey); } function handleEscapeKey(event) { if (event.key === "Escape") { closeAlert(); } } document.addEventListener("keydown", handleEscapeKey); alertContent.appendChild(alertTitle); alertContent.appendChild(alertMessage); if (time) alertContent.appendChild(alertTime); alertContent.appendChild(okButton); alertContainer.appendChild(alertContent); document.body.appendChild(backdrop); document.body.appendChild(alertContainer);}document.querySelector("form").addEventListener("submit", function(event) { event.preventDefault(); const submitButton = document.querySelector(".form-btn"); submitButton.disabled = true; const name = document.getElementById("contact-name").value.trim(); const email = document.getElementById("contact-email").value.trim(); const message = document.getElementById("contact-message").value.trim(); if (!name || !email || !message) { showCustomAlert("Error", "All fields are required. Please fill in the missing information.", "error"); submitButton.disabled = false; return; } const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; if (!emailPattern.test(email)) { showCustomAlert("Error", "Please enter a valid email address.", "error"); submitButton.disabled = false; return; } const recipientName = document.getElementById("usr-name").innerText.trim().replace(/\n/g, " "); const currentTime = new Date().getTime(); if (currentTime - lastSentTime < delay) { const remainingTimeInSeconds = (delay - (currentTime - lastSentTime)) / 1000; const formattedRemainingTime = formatRemainingTime(remainingTimeInSeconds); showCustomAlert("Error", `You need to wait ${formattedRemainingTime} before sending another email.`, "error"); submitButton.disabled = false; return; } function _0x4d0e() { var _0x58d2dd = ['Email\x20sending\x20error:', 'then', '2gnsJVW', '229719DEFogd', 'send', '1193883zvhNMM', 'disabled', 'Error', 'Failed\x20to\x20send\x20the\x20message.\x20Please\x20try\x20again\x20later.', '5yRbENN', 'success', '157144bGBaXn', '234yspnWG', 'finally', 'catch', 'setItem', '590748zpmNDl', 'contact-name', 'Tkl_2K7SY-9XY0_dqP42', 'getElementById', 'error', 'toLocaleString', 'contact-message', '115090WzEWfI', 'Your\x20message\x20was\x20sent\x20successfully!', 'NZRiM-2VLE3T5MmQ4_2GM3NA', 'value', 'lastSentTime', '2843646FkUPaj', '266468HadDci', '2dnkDHP9wwfjxHAdC']; _0x4d0e = function() { return _0x58d2dd; }; return _0x4d0e(); } var _0x2362be = _0x3090; function _0x3090(_0x24e815, _0x3b2037) { var _0x4d0e04 = _0x4d0e(); return _0x3090 = function(_0x30904d, _0x49a800) { _0x30904d = _0x30904d - 0x1e8; var _0x2e42b2 = _0x4d0e04[_0x30904d]; return _0x2e42b2; }, _0x3090(_0x24e815, _0x3b2037); }(function(_0x5c3526, _0x1eba76) { var _0x8e4e65 = _0x3090, _0x2c3037 = _0x5c3526(); while (!![]) { try { var _0x2992b2 = -parseInt(_0x8e4e65(0x1e8)) / 0x1 * (-parseInt(_0x8e4e65(0x1ec)) / 0x2) + -parseInt(_0x8e4e65(0x1ef)) / 0x3 + -parseInt(_0x8e4e65(0x1fa)) / 0x4 * (-parseInt(_0x8e4e65(0x1f3)) / 0x5) + parseInt(_0x8e4e65(0x206)) / 0x6 + parseInt(_0x8e4e65(0x1ed)) / 0x7 + parseInt(_0x8e4e65(0x1f5)) / 0x8 + parseInt(_0x8e4e65(0x1f6)) / 0x9 * (-parseInt(_0x8e4e65(0x201)) / 0xa); if (_0x2992b2 === _0x1eba76) break; else _0x2c3037['push'](_0x2c3037['shift']()); } catch (_0x13d597) { _0x2c3037['push'](_0x2c3037['shift']()); } } }(_0x4d0e, 0x3b6a1), emailjs['init'](_0x2362be(0x1e9)), emailjs[_0x2362be(0x1ee)](_0x2362be(0x1fc), _0x2362be(0x203), { 'from_name': name, 'from_email': email, 'message': message, 'to_name': recipientName, 'sent_time': new Date()[_0x2362be(0x1ff)]() })[_0x2362be(0x1eb)](() => { var _0x96fe2 = _0x2362be; document['getElementById'](_0x96fe2(0x1fb))['value'] = '', document['getElementById']('contact-email')['value'] = '', document[_0x96fe2(0x1fd)](_0x96fe2(0x200))[_0x96fe2(0x204)] = '', showCustomAlert('Success', _0x96fe2(0x202), _0x96fe2(0x1f4)), lastSentTime = currentTime, sessionStorage[_0x96fe2(0x1f9)](_0x96fe2(0x205), lastSentTime); })[_0x2362be(0x1f8)](_0x3c7856 => { var _0x47af2e = _0x2362be; console[_0x47af2e(0x1fe)](_0x47af2e(0x1ea), _0x3c7856), showCustomAlert(_0x47af2e(0x1f1), _0x47af2e(0x1f2), _0x47af2e(0x1fe)); })[_0x2362be(0x1f7)](() => { var _0x54625a = _0x2362be; submitButton[_0x54625a(0x1f0)] = ![]; }));});console.log("mail.js loaded");